[10:47:34][DEBUG][MAIN][ENV_INIT]: Load coreEnv    
[10:47:34][DEBUG][MAIN][ENV_INIT]: Loading core libs    
[10:47:34][DEBUG][MAIN][ENV_INIT]: Initialize the environment    
[10:47:34][DEBUG][MAIN]: Execute core env init    
[10:47:34][DATA_EXECUTION][MAIN][CORE_ENV_INI]: Prepare executeDir execution: coreEnvInit (core/lua/env/init)    
[10:47:34][DATA_LOADING][MAIN][CORE_ENV_INI]: Loading dir: core/lua/env/init (coreEnvInit)    
[10:47:34][DATA_LOADING][MAIN][CORE_ENV_INI]: Successfully loaded files: 13 (coreEnvInit)    
[10:47:34][DATA_LOADING][MAIN][CORE_ENV_INI]: Loading dir done: core/lua/env/init (coreEnvInit)    
[10:47:34][DATA_EXECUTION][MAIN][CORE_ENV_INI]: Execute: core/lua/env/init (coreEnvInit)    
[10:47:34][DEBUG][MAIN][CORE_ENV_INI]: Loading libs    
[10:47:34][INFO][MAIN][CORE_ENV_INI]: LOAD INI    
[10:47:34][DEBUG][MAIN][CORE_ENV_INI][SHARED]: Set metatables    
[10:47:34][INFO][MAIN][CORE_ENV_INI]: Open user DB    
[10:47:34][DATA_EXECUTION][MAIN][CORE_ENV_INI]: Successfully executed: 13 files (coreEnvInit)    
[10:47:34][DATA_EXECUTION][MAIN][CORE_ENV_INI]: Executing done: coreEnvInit (core/lua/env/init)    
[10:47:34][DEBUG][MAIN][CORE_ENV_INI]: Execute API env init    
[10:47:34][DATA_EXECUTION][MAIN][API_ENV_INI]: Prepare executeDir execution: apiEnvInit (api/env/init)    
[10:47:34][DATA_LOADING][MAIN][API_ENV_INI]: Loading dir: api/env/init (apiEnvInit)    
[10:47:34][DATA_LOADING][MAIN][API_ENV_INI]: Successfully loaded files: 0 (apiEnvInit)    
[10:47:34][DATA_LOADING][MAIN][API_ENV_INI]: Loading dir done: api/env/init (apiEnvInit)    
[10:47:34][DATA_EXECUTION][MAIN][API_ENV_INI]: Execute: api/env/init (apiEnvInit)    
[10:47:34][DATA_EXECUTION][MAIN][API_ENV_INI]: Successfully executed: 0 files (apiEnvInit)    
[10:47:34][DATA_EXECUTION][MAIN][API_ENV_INI]: Executing done: apiEnvInit (api/env/init)    
[10:47:34][DEBUG][MAIN][CORE_ENV_DYN]: Load dynamic core data    
[10:47:34][DATA_LOADING][MAIN][CORE_ENV_DYN]: Loading dir: core/lua/env/dyn (coreDyn)    
[10:47:34][DATA_LOADING][MAIN][CORE_ENV_DYN]: Successfully loaded files: 57 (coreDyn)    
[10:47:34][DATA_LOADING][MAIN][CORE_ENV_DYN]: Loading dir done: core/lua/env/dyn (coreDyn)    
[10:47:34][DEBUG][MAIN][API_ENV_DYN]: Load dynamic API data    
[10:47:34][DATA_LOADING][MAIN][API_ENV_DYN]: Loading dir: api/env/dyn (apiDyn)    
[10:47:34][DATA_LOADING][MAIN][API_ENV_DYN]: Successfully loaded files: 6 (apiDyn)    
[10:47:34][DATA_LOADING][MAIN][API_ENV_DYN]: Loading dir done: api/env/dyn (apiDyn)    
[10:47:34][DEBUG][MAIN][API_COMMANDS]: Load commands    
[10:47:34][DATA_LOADING][MAIN][API_COMMANDS]: Loading dir: api/commands (commands)    
[10:47:34][DATA_LOADING][MAIN][API_COMMANDS]: Successfully loaded files: 23 (commands)    
[10:47:34][DATA_LOADING][MAIN][API_COMMANDS]: Loading dir done: api/commands (commands)    
[10:47:34][INFO][MAIN]: Start initialization    
[10:47:34][DEBUG][MAIN][INIT]: Initialize main env    
[10:47:34][DEBUG][MAIN][INIT]: Initialize terminal    
[10:47:34][INFO][MAIN][INIT]: Initialize core    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Prepare executeDir execution: INIT_SYSTEM (core/lua/core/init)    
[10:47:34][DATA_LOADING][MAIN][INIT]: Loading dir: core/lua/core/init (INIT_SYSTEM)    
[10:47:34][DATA_LOADING][MAIN][INIT]: Successfully loaded files: 6 (INIT_SYSTEM)    
[10:47:34][DATA_LOADING][MAIN][INIT]: Loading dir done: core/lua/core/init (INIT_SYSTEM)    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Execute: core/lua/core/init (INIT_SYSTEM)    
[10:47:34][DEBUG][MAIN][INIT]: Starting event manager    
[10:47:34][DEBUG][MAIN][INIT]: Starting sharing manager    
[10:47:34][DEBUG][MAIN][INIT]: Starting event manager    
[10:47:34][DEBUG][MAIN][INIT]: Starting event listener    
[10:47:34][DEBUG][MAIN][INIT][DB]: Prepare login DB    
[10:47:34][DEBUG][MAIN][INIT][DB]: Create sysinfo table: 1    
[10:47:34][DEBUG][MAIN][INIT][DB]: Create users table: 1    
[10:47:34][DEBUG][MAIN][INIT][DB]: Create permissions table: 1    
[10:47:34][DEBUG][MAIN][INIT][DB]: Create sessions table: 1    
[10:47:34][DEBUG][MAIN][INIT][DB]: Prepare sysinfo table: 0    
[10:47:34][INFO][MAIN][INIT][USERLOGIN]: Initialize user login env    
[10:47:34][INFO][MAIN][INIT][DB]: Prepare data DB    
[10:47:34][INFO][MAIN][INIT][DB]: Create data table: 0    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Successfully executed: 6 files (INIT_SYSTEM)    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Executing done: INIT_SYSTEM (core/lua/core/init)    
[10:47:34][INFO][MAIN][INIT]: Initialize api    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Prepare executeDir execution: INIT_USER (api/init)    
[10:47:34][DATA_LOADING][MAIN][INIT]: Loading dir: api/init (INIT_USER)    
[10:47:34][DATA_LOADING][MAIN][INIT]: Successfully loaded files: 2 (INIT_USER)    
[10:47:34][DATA_LOADING][MAIN][INIT]: Loading dir done: api/init (INIT_USER)    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Execute: api/init (INIT_USER)    
[10:47:34][INFO][MAIN][INIT]: ######################################    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Successfully executed: 2 files (INIT_USER)    
[10:47:34][DATA_EXECUTION][MAIN][INIT]: Executing done: INIT_USER (api/init)    
[10:47:34][INFO][MAIN][INIT]: Initialization done    
[10:47:34][INFO][SHARING_MANAGER]: Starting sharing manager  	  
[10:47:34][INFO][EVENT_LISTENER]: Starting event listener  	  
[10:47:34][INFO][EVENT_LISTENER]: Register all listeners  	  
[10:47:34][INFO][EVENT_LISTENER]: Listeners registration done  	  
[10:47:34][INFO][EVENT_MANAGER]: Starting event manager  	  
[10:47:34][INFO][THREAD_MANAGER]: Starting thread manager  	  
[10:47:34][INFO][HTTPServer]: Initialize HTTP server  	  
[10:47:34][INFO][HTTPServer]: No TLS certificate given. Falling back to self-signed certificate.  	  
[10:47:34][INFO][HTTPServer]: Create server object  	  
[10:47:34][INFO][HTTPServer]: Set server to listen  	  
[10:47:34][INFO][HTTPServer]: Set event listeners  	  
[10:47:34][INFO][HTTPServer]: Now listening on port 8023  	  
[10:47:34][INFO][HTTPServer]: HTTP server initialization done  	  
[10:47:38][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:47:38][INFO][ACTION][YoutubeDL]: Register download for user 1  	  
[10:47:38][INFO][ACTION][YoutubeDL]: Register new youtubedl user: 'test' (1)  	  
[10:47:38][INFO][ACTION][YoutubeDL]: Download registered: userID: 1, URL: TEST_URI, interval: 10  	  
[10:47:46][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:47:46][INFO][ACTION][YoutubeDL]: Register download for user 1  	  
[10:47:46][INFO][ACTION][YoutubeDL]: Download registered: userID: 1, URL: TEST_URI, interval: 10  	  
[10:47:49][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:47:49][INFO][ACTION][TEST]: Schedule new download: downloadID: 2  	  
[10:47:49][INFO][ACTION][TEST]: Schedule download: downloadID: 2, scheduleDay: 19498  	  
[10:47:51][MAIN_TERMINAL]: > lua    
[10:47:51][MAIN_TERMINAL]: true    
[10:47:57][LUA]: > _DB.youtubedl("dump")    
[10:47:57][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19498] = {
        [2] = true,
      },
    },
    ['registered'] = {
      [1] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19498,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:48:13][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:48:13][INFO][ACTION][TEST]: Schedule new download: downloadID: 2  	  
[10:48:13][INFO][ACTION][TEST]: Cleaning up ond download registration: downloadID: 2, oldScheduleDay: 19498  	  
[10:48:13][INFO][ACTION][TEST]: Schedule download: downloadID: 2, scheduleDay: 19499  	  
[10:48:13][LUA]: > _DB.youtubedl("dump")    
[10:48:13][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
        [2] = true,
      },
      [19498] = {
      },
    },
    ['registered'] = {
      [1] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19499,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:48:23][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:48:23][INFO][ACTION][TEST]: Schedule new download: downloadID: 2  	  
[10:48:23][INFO][ACTION][TEST]: Cleaning up ond download registration: downloadID: 2, oldScheduleDay: 19499  	  
[10:48:23][INFO][ACTION][TEST]: Schedule download: downloadID: 2, scheduleDay: 19498  	  
[10:48:26][LUA]: > _DB.youtubedl("dump")    
[10:48:26][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
      },
      [19498] = {
        [2] = true,
      },
    },
    ['registered'] = {
      [1] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19498,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:48:27][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:48:27][INFO][ACTION][TEST]: Schedule new download: downloadID: 2  	  
[10:48:27][INFO][ACTION][TEST]: Download already scheduled at that day: downloadID: 2, scheduleID: 19498  	  
[10:48:33][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:48:33][INFO][ACTION][TEST]: Schedule new download: downloadID: 2  	  
[10:48:33][INFO][ACTION][TEST]: Cleaning up ond download registration: downloadID: 2, oldScheduleDay: 19498  	  
[10:48:33][INFO][ACTION][TEST]: Schedule download: downloadID: 2, scheduleDay: 19499  	  
[10:48:34][LUA]: > _DB.youtubedl("dump")    
[10:48:34][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
        [2] = true,
      },
      [19498] = {
      },
    },
    ['registered'] = {
      [1] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19499,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:48:41][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:48:41][INFO][ACTION][YoutubeDL]: Register download for user 1  	  
[10:48:41][INFO][ACTION][YoutubeDL]: Download registered: userID: 1, URL: TEST_URI, interval: 10  	  
[10:48:41][LUA]: > _DB.youtubedl("dump")    
[10:48:41][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
        [3] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
        [2] = true,
      },
      [19498] = {
      },
    },
    ['registered'] = {
      [1] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19499,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [3] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:48:49][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:48:49][INFO][ACTION][YoutubeDL]: Register download for user 1  	  
[10:48:49][INFO][ACTION][YoutubeDL]: Download registered: userID: 1, URL: TEST_URI, interval: 10  	  
[10:48:49][LUA]: > _DB.youtubedl("dump")    
[10:48:49][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
        [3] = true,
        [4] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
        [2] = true,
      },
      [19498] = {
      },
    },
    ['registered'] = {
      [1] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19499,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [3] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [4] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:49:08][LUA]: > _DB.youtubedl.downloads.registered[3] = nil    
[10:49:13][LUA]: > _DB.youtubedl.downloads.registered[4] = nil    
[10:49:16][LUA]: > _DB.youtubedl("dump")    
[10:49:16][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
        [3] = true,
        [4] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
        [2] = true,
      },
      [19498] = {
      },
    },
    ['registered'] = {
      [1] = {
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19499,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:49:18][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:49:18][INFO][ACTION][TEST]: Schedule new download: downloadID: 1  	  
[10:49:18][INFO][ACTION][TEST]: Schedule download: downloadID: 1, scheduleDay: 19498  	  
[10:49:19][LUA]: > _DB.youtubedl("dump")    
[10:49:19][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
        [3] = true,
        [4] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
        [2] = true,
      },
      [19498] = {
        [1] = true,
      },
    },
    ['registered'] = {
      [1] = {
        ['currentScheduleDay'] = 19498,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19499,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:49:22][INFO][HTTPServer]: Got user request: connectionIP/realIP: 127.0.0.1/127.0.0.1  	  
[10:49:22][INFO][ACTION][TEST]: Schedule new download: downloadID: 1  	  
[10:49:22][INFO][ACTION][TEST]: Download already scheduled at that day: downloadID: 1, scheduleID: 19498  	  
[10:49:23][LUA]: > _DB.youtubedl("dump")    
[10:49:23][DEBUG][LUA]: {
  ['users'] = {
    [1] = {
      ['downloads'] = {
        [1] = true,
        [2] = true,
        [3] = true,
        [4] = true,
      },
    },
  },
  ['downloads'] = {
    ['lastDownloadDay'] = 19488,
    ['queued'] = {
    },
    ['scheduled'] = {
      [19499] = {
        [2] = true,
      },
      [19498] = {
        [1] = true,
      },
    },
    ['registered'] = {
      [1] = {
        ['currentScheduleDay'] = 19498,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
      [2] = {
        ['currentScheduleDay'] = 19499,
        ['userID'] = 1,
        ['log'] = {
        },
        ['url'] = "TEST_URI",
        ['interval'] = 10,
      },
    },
  },
}    
[10:55:52][INFO][MAIN]: SHUTTING DOWN    
[10:55:52][DATA_EXECUTION][MAIN]: Prepare executeDir execution: SHUTDOWN (core/lua/core/shutdown)    
[10:55:52][DATA_LOADING][MAIN]: Loading dir: core/lua/core/shutdown (SHUTDOWN)    
[10:55:52][DATA_LOADING][MAIN]: Successfully loaded files: 2 (SHUTDOWN)    
[10:55:52][DATA_LOADING][MAIN]: Loading dir done: core/lua/core/shutdown (SHUTDOWN)    
[10:55:52][DATA_EXECUTION][MAIN]: Execute: core/lua/core/shutdown (SHUTDOWN)    
[10:55:52][INFO][MAIN]: Cleanup expired sessions    
[10:55:52][INFO][MAIN]: 0    
[10:55:52][INFO][MAIN]: Close login DB    
[10:55:52][DATA_EXECUTION][MAIN]: Successfully executed: 2 files (SHUTDOWN)    
[10:55:52][DATA_EXECUTION][MAIN]: Executing done: SHUTDOWN (core/lua/core/shutdown)    
